{% extends 'base.html.twig' %}

{% form_theme createTournamentFrom 'bootstrap_4_layout.html.twig' %}

{% block body %}

    <form action="">
        <div class="form-group">
            <label for="tournament">Tournament</label>
            <select name="tournament" id="tournament" class="form-control">
                <option value="">Select tournament</option>
                {% for tournament in tournaments %}
                    <option value="{{ tournament.id }}">{{ tournament.name }}</option>
                {% endfor %}

            </select>
        </div>
    </form>

    <h2>Create new tournament</h2>

    {{ form_start(createTournamentFrom) }}
    {{ form_widget(createTournamentFrom) }}
    {{ form_end(createTournamentFrom) }}

{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script>
        $(function () {
            $('#tournament').on('change', function () {
                location.href = Routing.generate('tournament', {
                    'id': $(this).val(),
                });
            });
        })
    </script>
{% endblock %}